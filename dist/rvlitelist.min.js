/*! litelist 23-04-2014 */

!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.LiteList=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){(function(){var b,c,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},i=[].slice,j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};b={binders:{},components:{},formatters:{},adapters:{},config:{prefix:"rv",templateDelimiters:["{","}"],rootInterface:".",preloadData:!0,handler:function(a,b,c){return this.call(a,b,c.view.models)}}},"jQuery"in window?(f="on"in jQuery?["on","off"]:["bind","unbind"],c=f[0],e=f[1],b.Util={bindEvent:function(a,b,d){return jQuery(a)[c](b,d)},unbindEvent:function(a,b,c){return jQuery(a)[e](b,c)},getInputValue:function(a){var b;return b=jQuery(a),"checkbox"===b.attr("type")?b.is(":checked"):b.val()}}):b.Util={bindEvent:function(){return"addEventListener"in window?function(a,b,c){return a.addEventListener(b,c,!1)}:function(a,b,c){return a.attachEvent("on"+b,c)}}(),unbindEvent:function(){return"removeEventListener"in window?function(a,b,c){return a.removeEventListener(b,c,!1)}:function(a,b,c){return a.detachEvent("on"+b,c)}}(),getInputValue:function(a){var b,c,d,e;if("checkbox"===a.type)return a.checked;if("select-multiple"===a.type){for(e=[],c=0,d=a.length;d>c;c++)b=a[c],b.selected&&e.push(b.value);return e}return a.value}},b.View=function(){function a(a,c,d){var e,f,h,i,j,k,l,m,n;for(this.els=a,this.models=c,this.options=null!=d?d:{},this.update=g(this.update,this),this.publish=g(this.publish,this),this.sync=g(this.sync,this),this.unbind=g(this.unbind,this),this.bind=g(this.bind,this),this.select=g(this.select,this),this.build=g(this.build,this),this.componentRegExp=g(this.componentRegExp,this),this.bindingRegExp=g(this.bindingRegExp,this),this.els.jquery||this.els instanceof Array||(this.els=[this.els]),l=["config","binders","formatters","adapters"],j=0,k=l.length;k>j;j++){if(f=l[j],this[f]={},this.options[f]){m=this.options[f];for(e in m)h=m[e],this[f][e]=h}n=b[f];for(e in n)h=n[e],null==(i=this[f])[e]&&(i[e]=h)}this.build()}return a.prototype.bindingRegExp=function(){return new RegExp("^"+this.config.prefix+"-")},a.prototype.componentRegExp=function(){return new RegExp("^"+this.config.prefix.toUpperCase()+"-")},a.prototype.build=function(){var a,c,d,e,f,g,i,j,k,l=this;for(this.bindings=[],g=[],a=this.bindingRegExp(),d=this.componentRegExp(),c=function(a,c,d,e){var f,g,h,i,j,k,m;return j={},m=function(){var a,b,c,d;for(c=e.split("|"),d=[],a=0,b=c.length;b>a;a++)k=c[a],d.push(k.trim());return d}(),f=function(){var a,b,c,d;for(c=m.shift().split("<"),d=[],a=0,b=c.length;b>a;a++)g=c[a],d.push(g.trim());return d}(),i=f.shift(),j.formatters=m,(h=f.shift())&&(j.dependencies=h.split(/\s+/)),l.bindings.push(new b[a](l,c,d,i,j))},f=function(e){var i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;if(h.call(g,e)<0){if(3===e.nodeType){if(q=b.TextTemplateParser,(n=l.config.templateDelimiters)&&(u=q.parse(e.data,n)).length&&(1!==u.length||u[0].type!==q.types.text)){for(x=0,B=u.length;B>x;x++)t=u[x],s=document.createTextNode(t.value),e.parentNode.insertBefore(s,e),1===t.type&&c("TextBinding",s,null,t.value);e.parentNode.removeChild(e)}}else if(d.test(e.tagName))v=e.tagName.replace(d,"").toLowerCase(),l.bindings.push(new b.ComponentBinding(l,e,v));else if(null!=e.attributes){for(H=e.attributes,y=0,C=H.length;C>y;y++)if(i=H[y],a.test(i.name)){if(v=i.name.replace(a,""),!(k=l.binders[v])){I=l.binders;for(o in I)w=I[o],"*"!==o&&-1!==o.indexOf("*")&&(r=new RegExp("^"+o.replace("*",".+")+"$"),r.test(v)&&(k=w))}if(k||(k=l.binders["*"]),k.block){for(J=e.childNodes,z=0,D=J.length;D>z;z++)p=J[z],g.push(p);j=[i]}}for(K=j||e.attributes,A=0,E=K.length;E>A;A++)i=K[A],a.test(i.name)&&(v=i.name.replace(a,""),c("Binding",e,v,i.value))}for(L=function(){var a,b,c,d;for(c=e.childNodes,d=[],b=0,a=c.length;a>b;b++)p=c[b],d.push(p);return d}(),M=[],G=0,F=L.length;F>G;G++)m=L[G],M.push(f(m));return M}},k=this.els,i=0,j=k.length;j>i;i++)e=k[i],f(e)},a.prototype.select=function(a){var b,c,d,e,f;for(e=this.bindings,f=[],c=0,d=e.length;d>c;c++)b=e[c],a(b)&&f.push(b);return f},a.prototype.bind=function(){var a,b,c,d,e;for(d=this.bindings,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.bind());return e},a.prototype.unbind=function(){var a,b,c,d,e;for(d=this.bindings,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.unbind());return e},a.prototype.sync=function(){var a,b,c,d,e;for(d=this.bindings,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.sync());return e},a.prototype.publish=function(){var a,b,c,d,e;for(d=this.select(function(a){return a.binder.publishes}),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.publish());return e},a.prototype.update=function(a){var b,c,d,e,f,g,h;null==a&&(a={});for(c in a)d=a[c],this.models[c]=d;for(g=this.bindings,h=[],e=0,f=g.length;f>e;e++)b=g[e],h.push(b.update(a));return h},a}(),b.Binding=function(){function a(a,b,c,d,e){this.view=a,this.el=b,this.type=c,this.keypath=d,this.options=null!=e?e:{},this.update=g(this.update,this),this.unbind=g(this.unbind,this),this.bind=g(this.bind,this),this.publish=g(this.publish,this),this.sync=g(this.sync,this),this.set=g(this.set,this),this.eventHandler=g(this.eventHandler,this),this.formattedValue=g(this.formattedValue,this),this.setBinder=g(this.setBinder,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.model=void 0,this.setBinder()}return a.prototype.setBinder=function(){var a,b,c,d;if(!(this.binder=this.view.binders[this.type])){d=this.view.binders;for(a in d)c=d[a],"*"!==a&&-1!==a.indexOf("*")&&(b=new RegExp("^"+a.replace("*",".+")+"$"),b.test(this.type)&&(this.binder=c,this.args=new RegExp("^"+a.replace("*","(.+)")+"$").exec(this.type),this.args.shift()))}return this.binder||(this.binder=this.view.binders["*"]),this.binder instanceof Function?this.binder={routine:this.binder}:void 0},a.prototype.formattedValue=function(a){var b,c,d,e,f,g;for(g=this.formatters,e=0,f=g.length;f>e;e++)c=g[e],b=c.split(/\s+/),d=b.shift(),c=this.view.formatters[d],(null!=c?c.read:void 0)instanceof Function?a=c.read.apply(c,[a].concat(i.call(b))):c instanceof Function&&(a=c.apply(null,[a].concat(i.call(b))));return a},a.prototype.eventHandler=function(a){var b,c;return c=(b=this).view.config.handler,function(d){return c.call(a,this,d,b)}},a.prototype.set=function(a){var b;return a=this.formattedValue(a instanceof Function&&!this.binder["function"]?a.call(this.model):a),null!=(b=this.binder.routine)?b.call(this,this.el,a):void 0},a.prototype.sync=function(){var a,c,d,e,f,g,h,i,j;if(this.model!==this.observer.target){for(h=this.dependencies,d=0,f=h.length;f>d;d++)c=h[d],c.unobserve();if(this.dependencies=[],null!=(this.model=this.observer.target)&&(null!=(i=this.options.dependencies)?i.length:void 0))for(j=this.options.dependencies,e=0,g=j.length;g>e;e++)a=j[e],c=new b.Observer(this.view,this.model,a,this.sync),this.dependencies.push(c)}return this.set(this.observer.value())},a.prototype.publish=function(){var a,c,d,e,f,g,h,j,k;for(e=b.Util.getInputValue(this.el),h=this.formatters.slice(0).reverse(),f=0,g=h.length;g>f;f++)c=h[f],a=c.split(/\s+/),d=a.shift(),(null!=(j=this.view.formatters[d])?j.publish:void 0)&&(e=(k=this.view.formatters[d]).publish.apply(k,[e].concat(i.call(a))));return this.observer.publish(e)},a.prototype.bind=function(){var a,c,d,e,f,g,h;if(null!=(f=this.binder.bind)&&f.call(this,this.el),this.observer=new b.Observer(this.view,this.view.models,this.keypath,this.sync),this.model=this.observer.target,null!=this.model&&(null!=(g=this.options.dependencies)?g.length:void 0))for(h=this.options.dependencies,d=0,e=h.length;e>d;d++)a=h[d],c=new b.Observer(this.view,this.model,a,this.sync),this.dependencies.push(c);return this.view.config.preloadData?this.sync():void 0},a.prototype.unbind=function(){var a,b,c,d,e;for(null!=(d=this.binder.unbind)&&d.call(this,this.el),this.observer.unobserve(),e=this.dependencies,b=0,c=e.length;c>b;b++)a=e[b],a.unobserve();return this.dependencies=[]},a.prototype.update=function(a){var b;return null==a&&(a={}),this.model=this.observer.target,null!=(b=this.binder.update)?b.call(this,a):void 0},a}(),b.ComponentBinding=function(a){function c(a,c,d){var e,f,i,j,k;for(this.view=a,this.el=c,this.type=d,this.unbind=g(this.unbind,this),this.bind=g(this.bind,this),this.update=g(this.update,this),this.locals=g(this.locals,this),this.component=b.components[this.type],this.attributes={},this.inflections={},j=this.el.attributes||[],f=0,i=j.length;i>f;f++)e=j[f],k=e.name,h.call(this.component.attributes,k)>=0?this.attributes[e.name]=e.value:this.inflections[e.name]=e.value}return k(c,a),c.prototype.sync=function(){},c.prototype.locals=function(a){var b,c,d,e,f,g,h,i,j;null==a&&(a=this.view.models),f={},i=this.inflections;for(c in i)for(b=i[c],j=b.split("."),g=0,h=j.length;h>g;g++)e=j[g],f[c]=(f[c]||a)[e];for(c in a)d=a[c],null==f[c]&&(f[c]=d);return f},c.prototype.update=function(a){var b;return null!=(b=this.componentView)?b.update(this.locals(a)):void 0},c.prototype.bind=function(){var a,c;return null!=this.componentView?null!=(c=this.componentView)?c.bind():void 0:(a=this.component.build.call(this.attributes),(this.componentView=new b.View(a,this.locals(),this.view.options)).bind(),this.el.parentNode.replaceChild(a,this.el))},c.prototype.unbind=function(){var a;return null!=(a=this.componentView)?a.unbind():void 0},c}(b.Binding),b.TextBinding=function(a){function b(a,b,c,d,e){this.view=a,this.el=b,this.type=c,this.keypath=d,this.options=null!=e?e:{},this.sync=g(this.sync,this),this.formatters=this.options.formatters||[],this.dependencies=[]}return k(b,a),b.prototype.binder={routine:function(a,b){return a.data=null!=b?b:""}},b.prototype.sync=function(){return b.__super__.sync.apply(this,arguments)},b}(b.Binding),b.KeypathParser=function(){function a(){}return a.parse=function(a,b,c){var d,e,f,g,i,j;for(g=[],e={"interface":c,path:""},f=i=0,j=a.length;j>i;f=i+=1)d=a.charAt(f),h.call(b,d)>=0?(g.push(e),e={"interface":d,path:""}):e.path+=d;return g.push(e),g},a}(),b.TextTemplateParser=function(){function a(){}return a.types={text:0,binding:1},a.parse=function(a,b){var c,d,e,f,g,h,i;for(h=[],f=a.length,c=0,d=0;f>d;){if(c=a.indexOf(b[0],d),0>c){h.push({type:this.types.text,value:a.slice(d)});break}if(c>0&&c>d&&h.push({type:this.types.text,value:a.slice(d,c)}),d=c+b[0].length,c=a.indexOf(b[1],d),0>c){g=a.slice(d-b[1].length),e=h[h.length-1],(null!=e?e.type:void 0)===this.types.text?e.value+=g:h.push({type:this.types.text,value:g});break}i=a.slice(d,c).trim(),h.push({type:this.types.binding,value:i}),d=c+b[1].length}return h},a}(),b.Observer=function(){function a(a,b,c,d){this.view=a,this.model=b,this.keypath=c,this.callback=d,this.unobserve=g(this.unobserve,this),this.realize=g(this.realize,this),this.value=g(this.value,this),this.publish=g(this.publish,this),this.read=g(this.read,this),this.set=g(this.set,this),this.adapter=g(this.adapter,this),this.update=g(this.update,this),this.initialize=g(this.initialize,this),this.parse=g(this.parse,this),this.parse(),this.initialize()}return a.prototype.parse=function(){var a,c,d,e,f,g;return a=function(){var a,b;a=this.view.adapters,b=[];for(c in a)f=a[c],b.push(c);return b}.call(this),g=this.keypath[0],h.call(a,g)>=0?(e=this.keypath[0],d=this.keypath.substr(1)):(e=this.view.config.rootInterface,d=this.keypath),this.tokens=b.KeypathParser.parse(d,a,e),this.key=this.tokens.pop()},a.prototype.initialize=function(){return this.objectPath=[],this.target=this.realize(),null!=this.target?this.set(!0,this.key,this.target,this.callback):void 0},a.prototype.update=function(){var a,b;return(a=this.realize())!==this.target&&(null!=this.target&&this.set(!1,this.key,this.target,this.callback),null!=a&&this.set(!0,this.key,a,this.callback),b=this.value(),this.target=a,this.value()!==b)?this.callback():void 0},a.prototype.adapter=function(a){return this.view.adapters[a["interface"]]},a.prototype.set=function(a,b,c,d){var e;return e=a?"subscribe":"unsubscribe",this.adapter(b)[e](c,b.path,d)},a.prototype.read=function(a,b){return this.adapter(a).read(b,a.path)},a.prototype.publish=function(a){return null!=this.target?this.adapter(this.key).publish(this.target,this.key.path,a):void 0},a.prototype.value=function(){return null!=this.target?this.read(this.key,this.target):void 0},a.prototype.realize=function(){var a,b,c,d,e,f,g,h;for(a=this.model,e=null,h=this.tokens,b=f=0,g=h.length;g>f;b=++f)d=h[b],null!=a?(null!=this.objectPath[b]?a!==(c=this.objectPath[b])&&(this.set(!1,d,c,this.update),this.set(!0,d,a,this.update),this.objectPath[b]=a):(this.set(!0,d,a,this.update),this.objectPath[b]=a),a=this.read(d,a)):(null==e&&(e=b),(c=this.objectPath[b])&&this.set(!1,d,c,this.update));return null!=e&&this.objectPath.splice(e),a},a.prototype.unobserve=function(){var a,b,c,d,e,f,g;for(f=this.tokens,g=[],a=d=0,e=f.length;e>d;a=++d)c=f[a],g.push((b=this.objectPath[a])?this.set(!1,c,b,this.update):void 0);return g},a}(),b.binders.text=function(a,b){return null!=a.textContent?a.textContent=null!=b?b:"":a.innerText=null!=b?b:""},b.binders.html=function(a,b){return a.innerHTML=null!=b?b:""},b.binders.show=function(a,b){return a.style.display=b?"":"none"},b.binders.hide=function(a,b){return a.style.display=b?"none":""},b.binders.enabled=function(a,b){return a.disabled=!b},b.binders.disabled=function(a,b){return a.disabled=!!b},b.binders.checked={publishes:!0,bind:function(a){return b.Util.bindEvent(a,"change",this.publish)},unbind:function(a){return b.Util.unbindEvent(a,"change",this.publish)},routine:function(a,b){var c;return a.checked="radio"===a.type?(null!=(c=a.value)?c.toString():void 0)===(null!=b?b.toString():void 0):!!b}},b.binders.unchecked={publishes:!0,bind:function(a){return b.Util.bindEvent(a,"change",this.publish)},unbind:function(a){return b.Util.unbindEvent(a,"change",this.publish)},routine:function(a,b){var c;return a.checked="radio"===a.type?(null!=(c=a.value)?c.toString():void 0)!==(null!=b?b.toString():void 0):!b}},b.binders.value={publishes:!0,bind:function(a){return b.Util.bindEvent(a,"change",this.publish)},unbind:function(a){return b.Util.unbindEvent(a,"change",this.publish)},routine:function(a,b){var c,d,e,f,g,i,j;if(null!=window.jQuery){if(a=jQuery(a),(null!=b?b.toString():void 0)!==(null!=(f=a.val())?f.toString():void 0))return a.val(null!=b?b:"")}else if("select-multiple"===a.type){if(null!=b){for(j=[],d=0,e=a.length;e>d;d++)c=a[d],j.push(c.selected=(g=c.value,h.call(b,g)>=0));return j}}else if((null!=b?b.toString():void 0)!==(null!=(i=a.value)?i.toString():void 0))return a.value=null!=b?b:""}},b.binders["if"]={block:!0,bind:function(a){var b,c;return null==this.marker?(b=[this.view.config.prefix,this.type].join("-").replace("--","-"),c=a.getAttribute(b),this.marker=document.createComment(" rivets: "+this.type+" "+c+" "),a.removeAttribute(b),a.parentNode.insertBefore(this.marker,a),a.parentNode.removeChild(a)):void 0},unbind:function(){var a;return null!=(a=this.nested)?a.unbind():void 0},routine:function(a,c){var d,e,f,g,h;if(!!c==(null==this.nested)){if(c){f={},h=this.view.models;for(d in h)e=h[d],f[d]=e;return g={binders:this.view.options.binders,formatters:this.view.options.formatters,adapters:this.view.options.adapters,config:this.view.options.config},(this.nested=new b.View(a,f,g)).bind(),this.marker.parentNode.insertBefore(a,this.marker.nextSibling)}return a.parentNode.removeChild(a),this.nested.unbind(),delete this.nested}},update:function(a){var b;return null!=(b=this.nested)?b.update(a):void 0}},b.binders.unless={block:!0,bind:function(a){return b.binders["if"].bind.call(this,a)},unbind:function(){return b.binders["if"].unbind.call(this)},routine:function(a,c){return b.binders["if"].routine.call(this,a,!c)},update:function(a){return b.binders["if"].update.call(this,a)}},b.binders["on-*"]={"function":!0,unbind:function(a){return this.handler?b.Util.unbindEvent(a,this.args[0],this.handler):void 0},routine:function(a,c){return this.handler&&b.Util.unbindEvent(a,this.args[0],this.handler),b.Util.bindEvent(a,this.args[0],this.handler=this.eventHandler(c))}},b.binders["each-*"]={block:!0,bind:function(a){var b;return null==this.marker?(b=[this.view.config.prefix,this.type].join("-").replace("--","-"),this.marker=document.createComment(" rivets: "+this.type+" "),this.iterated=[],a.removeAttribute(b),a.parentNode.insertBefore(this.marker,a),a.parentNode.removeChild(a)):void 0},unbind:function(){var a,b,c,d,e;if(null!=this.iterated){for(d=this.iterated,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.unbind());return e}},routine:function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(k=this.args[0],c=c||[],this.iterated.length>c.length)for(w=Array(this.iterated.length-c.length),q=0,t=w.length;t>q;q++)f=w[q],p=this.iterated.pop(),p.unbind(),this.marker.parentNode.removeChild(p.els[0]);for(g=r=0,u=c.length;u>r;g=++r)if(j=c[g],e={index:g},e[k]=j,null==this.iterated[g]){x=this.view.models;for(i in x)j=x[i],null==e[i]&&(e[i]=j);m=this.iterated.length?this.iterated[this.iterated.length-1].els[0]:this.marker,l={binders:this.view.options.binders,formatters:this.view.options.formatters,adapters:this.view.options.adapters,config:{}},y=this.view.options.config;for(h in y)o=y[h],l.config[h]=o;l.config.preloadData=!0,n=a.cloneNode(!0),p=new b.View(n,e,l),p.bind(),this.iterated.push(p),this.marker.parentNode.insertBefore(n,m.nextSibling)}else this.iterated[g].models[k]!==j&&this.iterated[g].update(e);if("OPTION"===a.nodeName){for(z=this.view.bindings,A=[],s=0,v=z.length;v>s;s++)d=z[s],A.push(d.el===this.marker.parentNode&&"value"===d.type?d.sync():void 0);return A}},update:function(a){var b,c,d,e,f,g,h,i;b={};for(c in a)d=a[c],c!==this.args[0]&&(b[c]=d);for(h=this.iterated,i=[],f=0,g=h.length;g>f;f++)e=h[f],i.push(e.update(b));return i}},b.binders["class-*"]=function(a,b){var c;return c=" "+a.className+" ",!b==(-1!==c.indexOf(" "+this.args[0]+" "))?a.className=b?""+a.className+" "+this.args[0]:c.replace(" "+this.args[0]+" "," ").trim():void 0},b.binders["*"]=function(a,b){return null!=b?a.setAttribute(this.type,b):a.removeAttribute(this.type)},b.adapters["."]={id:"_rv",counter:0,weakmap:{},weakReference:function(a){var b;return null==a[this.id]&&(b=this.counter++,this.weakmap[b]={callbacks:{}},Object.defineProperty(a,this.id,{value:b})),this.weakmap[a[this.id]]},stubFunction:function(a,b){var c,d,e;return d=a[b],c=this.weakReference(a),e=this.weakmap,a[b]=function(){var b,f,g,h,i,j,k,l,m,n;h=d.apply(a,arguments),k=c.pointers;for(g in k)for(f=k[g],n=null!=(l=null!=(m=e[g])?m.callbacks[f]:void 0)?l:[],i=0,j=n.length;j>i;i++)(b=n[i])();return h}},observeMutations:function(a,b,c){var d,e,f,g,i,j;if(Array.isArray(a)){if(f=this.weakReference(a),null==f.pointers)for(f.pointers={},e=["push","pop","shift","unshift","sort","reverse","splice"],i=0,j=e.length;j>i;i++)d=e[i],this.stubFunction(a,d);if(null==(g=f.pointers)[b]&&(g[b]=[]),h.call(f.pointers[b],c)<0)return f.pointers[b].push(c)}},unobserveMutations:function(a,b,c){var d,e;return Array.isArray(a&&null!=a[this.id])&&(d=null!=(e=this.weakReference(a).pointers)?e[b]:void 0)?d.splice(d.indexOf(c),1):void 0},subscribe:function(a,b,c){var d,e,f=this;return d=this.weakReference(a).callbacks,null==d[b]&&(d[b]=[],e=a[b],Object.defineProperty(a,b,{enumerable:!0,get:function(){return e},set:function(g){var h,i,j;if(g!==e){for(e=g,j=d[b],h=0,i=j.length;i>h;h++)(c=j[h])();return f.observeMutations(g,a[f.id],b)}}})),h.call(d[b],c)<0&&d[b].push(c),this.observeMutations(a[b],a[this.id],b)},unsubscribe:function(a,b,c){var d;return d=this.weakmap[a[this.id]].callbacks[b],d.splice(d.indexOf(c),1),this.unobserveMutations(a[b],a[this.id],b)},read:function(a,b){return a[b]},publish:function(a,b,c){return a[b]=c}},b.factory=function(a){return a._=b,a.binders=b.binders,a.components=b.components,a.formatters=b.formatters,a.adapters=b.adapters,a.config=b.config,a.configure=function(a){var c,d;null==a&&(a={});for(c in a)d=a[c],b.config[c]=d},a.bind=function(a,c,d){var e;return null==c&&(c={}),null==d&&(d={}),e=new b.View(a,c,d),e.bind(),e}},"object"==typeof d?b.factory(d):"function"==typeof a&&a.amd?a(["exports"],function(a){return b.factory(this.rivets=a),a}):b.factory(this.rivets={})}).call(this)},{}],2:[function(a,b){"use strict";function c(a){function b(a,b){var c=Math.floor(b/r),d=b%r,e={id:G++,top:c*x+c*y.y,left:d*w+d*y.x,idx:b,item:a};if(C){var g=C.cloneNode(!0);A.appendChild(g),e.el=g,B&&B.bind&&B.bind(e.id,g),f(e,!0)}return e}function d(){o=z.clientHeight,p=z.clientWidth,q=Math.ceil(o/(x+y.y)),r=w?Math.floor(p/(w+y.x)):1,s=q*r,t=3*s}function e(){var a=Math.ceil(v.length/r),b=a*x+a*y.y;return b!==u.height&&(A.style.height=b+"px",u.height=b),u.height}function f(a,b){var c=a.idx,d=Math.floor(c/r),e=c%r,f=d*x+d*y.y,g=e*w+e*y.x;(b||a.top!==f)&&(a.top=f,a.el&&(a.el.style.top=f+"px")),(b||a.left!==g)&&(a.left=g,a.el&&(a.el.style.left=g+"px")),(b||a.item!==v[c])&&(a.item=v[c],B&&B.sync&&B.sync(a.id,a.el,c,v[c]))}function g(){var a=u.length*x/r+u.length*y.y/r,b=(D-a/3)/(u.height-o);0>b&&(b=0);var c,d,e=Math.floor(b*v.length);if(H>e)for(c=e;H>c;++c)d=u[c%u.length],d.idx=d.idx-u.length,f(d);else if(e>H)for(c=H;e>c;++c)d=u[c%u.length],d.idx=d.idx+u.length,d.idx<v.length&&f(d);H=e,E=!1,F=!1}function h(){if(E){var a,c,h=z.clientHeight,i=z.clientWidth,j=Math.ceil(h/(x+y.y)),k=w?Math.floor(i/(w+y.x)):1;if(j!==q||k!==r){if(d(),e(),u.length>t)c=u.splice(0,u.length-t),B&&B.unbind&&c.forEach(function(a){B.unbind(a.id,a.el),A.removeChild(a.el)});else if(u.length<t){var l=[-1,0];for(a=u.length;t>a;++a)l.push(b({},0));u.splice.apply(u,l)}for(a=0;a<u.length;++a)u[a].idx=a,f(u[a]);H=0}}g()}function i(){F||window.requestAnimationFrame(h),F=!0}function j(){var a=Array.prototype.slice.call(arguments),c=0,d=v.length;for(v.push.apply(v,a);u.length<t&&c<a.length;)u.push(b(a[c],d)),c+=1,d+=1;e(),i()}function k(){z.addEventListener("scroll",m),window.addEventListener("resize",n)}function l(){z.removeEventListener("scroll",m),window.removeEventListener("resize",n),I&&I.unbind()}function m(){D=this.scrollTop,i()}function n(){E=!0,i()}var o,p,q,r,s,t,u=this.itemsInView=[],v=this.items=[],w=a.itemWidth||0,x=a.itemHeight,y=a.margin||{x:0,y:0},z=document.querySelector(a.scrollView),A=a.itemsContainer?document.querySelector(a.itemsContainer):!1,B=a.dataSource||!1,C=a.itemTemplate||!1,D=0,E=!0,F=!1;A||(A=z.children[0]);var G=0;d();var H=0;this.push=j,this.unbind=l,k();var I=c.Scroll?new c.Scroll(a.scrollView,m):!1;e(),i()}c.VERSION="0.0.0",b.exports=c},{}],3:[function(a,b){function c(a){this.liteList=new e(a),this.itemsInView=this.liteList.itemsInView,this.unbind=function(){this.rvView&&this.rvView.unbind(),this.liteList.unbind()},this.push=function(){this.liteList.push.apply(this.liteList,arguments)},this.rvView=d.bind(document.querySelector(a.itemsContainer),{items:this.itemsInView},{binders:{top:function(a,b){a.style.top=b+"px"},left:function(a,b){a.style.left=b+"px"},height:function(a,b){a.style.height=b+"px"}}})}var d=a("rivets"),e=a("./litelist");e.RivetsLiteList=c,b.exports=e},{"./litelist":2,rivets:1}]},{},[3])(3)});
//# sourceMappingURL=rvlitelist.min.map